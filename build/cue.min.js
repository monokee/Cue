!function(e){const t=()=>{};function n(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){if(e.constructor!==t.constructor)return!1;let r;if(Array.isArray(e)){if(e.length!==t.length)return!1;for(r=e.length;0!=r--;)if(!n(e[r],t[r]))return!1;return!0}const o=Object.keys(e),s=o.length;if(s!==Object.keys(t).length)return!1;for(r=s;0!=r--;)if(!Object.prototype.hasOwnProperty.call(t,o[r]))return!1;for(r=s;0!=r--;){const s=o[r];if(!n(e[s],t[s]))return!1}return!0}return e!=e&&t!=t}function r(e){if(!e||"object"!=typeof e)return e;if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++)t.push(r(e[n]));return t}const t=Object.keys(e),n={};for(let o,s=0;s<t.length;s++)o=t[s],n[o]=r(e[o]);return n}function o(e){if(!e.length)return"0";let t=0;for(let n,r=0;r<e.length;r++)n=e.charCodeAt(r),t=(t<<5)-t+n,t&=t;return t+""}const s=e.localStorage,i=new Map,a=[],c=[],l="CUE_SERVER_CACHE::KEYS",h=Symbol();let u=null;const d=()=>{clearTimeout(u);for(let e=0;e<a.length;e++)a[e]()},f=()=>{u=setTimeout(()=>{for(let e=0;e<c.length;e++)c[e]()},100)},p={get:(e,t=0,n)=>new Promise((r,i)=>{d();const a=o(e),c=function(e){const t=s.getItem(e+"::ts");return null===t?h:Number(t)<Date.now()?(g(e),h):JSON.parse(s.getItem(e))}(a);c===h?m(e,"GET",n).then(e=>{t>0&&function(e,t,n){const r=Date.now()+1e3*n;"object"==typeof t&&(t=JSON.stringify(t));const o=e+"::ts";s.setItem(e,t),s.setItem(o,""+r);let i=s.getItem(l);null===i?i=`${e},${o},`:-1===i.indexOf(e+",")&&(i=`${i}${e},${o},`);s.setItem(l,i)}(a,e,t),r(e)}).catch(e=>{i(e)}).finally(f):(f(),r(c))}),post:(e,t,n)=>new Promise((r,o)=>{d(),m(e,"POST",n,t).then(e=>r(e)).catch(e=>o(e)).finally(f)}),put:(e,t,n)=>new Promise((r,o)=>{d(),m(e,"PUT",n,t).then(e=>r(e)).catch(e=>o(e)).finally(f)}),delete:(e,t,n)=>new Promise((r,o)=>{d(),m(e,"DELETE",n,t).then(e=>r(e)).catch(e=>o(e)).finally(f)}),clearCache(e){g(o(e))},onRequestStart(e){if(a.indexOf(e)>-1)throw new Error("[Cue.js] Server.onRequestStart(handler) - the provided handler is already registered.");return a.push(e),{unsubscribe(){a.splice(a.indexOf(e),1)}}},onRequestStop(e){if(c.indexOf(e)>-1)throw new Error("[Cue.js] Server.onRequestStop(handler) - the provided handler is already registered.");return c.push(e),{unsubscribe(){c.splice(c.indexOf(e),1)}}}};function g(e){if(e){if(null!==s.getItem(e)){const t=e+"::ts";s.removeItem(e),s.removeItem(t);const n=s.getItem(l);if(null!==n){const r=n.split(",");r.splice(r.indexOf(e),1),r.splice(r.indexOf(t),1),s.setItem(l,r.join(",")+",")}}}else{const e=s.getItem(l);if(null!==e){const t=e.split(",");for(let e=0;e<t.length;e++)s.removeItem(t[e]);s.removeItem(l)}}}function m(e,t,n,r={}){if(i.has(e))return i.get(e);{const o={"Content-Type":"application/json"};return n&&(o.Authorization="Bearer "+n),i.set(e,new Promise((n,s)=>{fetch(e,{method:t,mode:"cors",cache:"no-store",credentials:"same-origin",headers:o,redirect:"follow",referrer:"no-referrer",body:"GET"===t?null:"string"==typeof r?r:JSON.stringify(r)}).then(e=>{e.ok?204===e.status?n({}):e.json().then(e=>n(e)):e.json().then(e=>s(e))}).catch(e=>{s(e)}).finally(()=>{i.delete(e)})})),i.get(e)}}const y=new Map,b=new Map,v=new Map,w=new Map,C=[];let O=null;const x={cueEvent(e,t){y.set(e,t)},cueCallback(e,t){b.set(e,t)},cueComputations(e,t,n,r){const o=e.get(n),s=[e,t,r];for(let e=0;e<o.length;e++)v.set(o[e],s)},react(){cancelAnimationFrame(O),O=requestAnimationFrame(S)}};function S(){let e,t,n,r,o,s,i,a;for(t of y.entries())t[0](t[1]);for(;v.size>0;){for(t of v.entries())r=t[0],-1===C.indexOf(r)&&(o=t[1],i=o[0],s=o[1],r.needsUpdate=!0,a=r.value(o[2]),!0===r.hasChanged&&(s[r.ownPropertyName]&&b.set(s[r.ownPropertyName],a),w.set(r,o)),C.push(r));for(t of(v.clear(),w.entries()))if(r=t[0],o=t[1],n=o[0].get(r.ownPropertyName),n)for(e=0;e<n.length;e++)v.set(n[e],o);w.clear()}for(t of b.entries())t[0](t[1]);for(y.clear(),b.clear();C.length>0;)C.pop()}const E=(e,t)=>o("cs-"+e+t),j=new Map,P=Symbol("Cue.Store.internals"),k=Symbol("Cue.Store"),I=Symbol("Cue.Store.set"),T=Symbol("Cue.Store.get"),R=Symbol("Cue.Store.dispatch");class A{constructor(e,t){this.id=k,this.store=e,this.key=t}get(e=!1){return!0===e?r(this.store[P].data[this.key]):this.store[P].data[this.key]}set(e){this.store[P].data[this.key]=e,this.store[R](this.key,e)}}class M{constructor(e,t,n){const o=this[P]={name:e,defaultData:r(t),data:r(t),events:new Map,bindings:new Map,storage:n};if(null!==n)for(const t in o.data){const r=E(e,t);o.data[t]=JSON.parse(n.getItem(r))||o.data[t],o.events.set(t,[e=>{void 0===e&&(e=null),n.setItem(r,JSON.stringify(e))}])}}[T](e){return this[P].data[e]}[I](e,t){this[P].data[e]=t,this[R](e,t)}[R](e,t){const n=this[P].events.get(e);if(n){for(let e=0;e<n.length;e++)x.cueEvent(n[e],t);x.react()}}get(e){return r(e?this[P].data[e]:this[P].data)}set(e,t){const r=this[P].data;if(e&&"object"==typeof e){let t,o;for(t in e)o=e[t],n(r[t],o)||this[I](t,o)}n(r[e],t)||this[I](e,t)}reset(e){e?this.set(e,r(this[P].defaultData[e])):this.set(r(this[P].defaultData))}has(e){return this[P].data.hasOwnProperty(e)}remove(e){const t=this[P];null!==t.storage&&t.storage.removeItem(E(t.name,e)),t.data.hasOwnProperty(e)&&(delete t.data[e],this[R](e,void 0))}clear(e=!1){const t=this[P];if(null!==t.storage)for(const e in t.data)t.storage.removeItem(E(t.name,e));!0===e&&(t.data={});for(const e in t.data)this[R](e,void 0);t.data={}}bind(e){const t=this[P];return t.bindings.has(e)||t.bindings.set(e,new A(this,e)),t.bindings.get(e)}subscribe(e,t,n=!1){const r=this[P];return r.events.has(e)?r.events.get(e).push(t):r.events.set(e,[t]),!0===n&&this[R](e,r.data[e]),{unsubscribe:()=>{const n=r.events.get(e);n.splice(n.indexOf(t),1)}}}}const _={create(e,t,n=null){if(j.has(e))throw new Error('Can not create Store "'+e+'". A store with the same name already exists.');const r=new M(e,t,n);return j.set(e,r),r},destroy(e){if(!j.has(e))throw new Error('Can not destroy Store "'+e+'". Store does not exist.');const t=j.get(e);t.clear(!0),t[P].events.clear(),j.delete(e)}},$={computedProperty:null,computedProperties:null};let q=null,L=[];class N{constructor(e,t,n=[]){this.ownPropertyName=e,this.computation=t,this.sourceProperties=n,this.intermediate=void 0,this._value=void 0,this._type=-1,this.needsUpdate=!0,this.hasChanged=!1}value(e){return!0===this.needsUpdate&&(this.intermediate=this.computation.call(e,e,this._value),Array.isArray(this.intermediate)?(this.hasChanged=1!==this._type||!function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(this._value,this.intermediate))&&(this._value=this.intermediate.slice(),this._type=1):"object"==typeof this.intermediate&&null!==this.intermediate?(this.hasChanged=2!==this._type||!function(e,t){const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let o,s=0;s<n.length;s++)if(o=n[s],-1===r.indexOf(o)||e[o]!==t[o])return!1;return!0}(this._value,this.intermediate))&&(this._value=Object.assign({},this.intermediate),this._type=2):(this.hasChanged=this._value!==this.intermediate)&&(this._value=this.intermediate,this._type=0),this.needsUpdate=!1),this._value}}function U(e,t){return function(e){q=e;const t=new Map;let n;for(n of e.keys())z(n,[],t);return q=null,L=[],t}(function(e,t){Object.assign($,{computedProperties:t});const n=new Proxy(e,{get:H});let r;for(r of t.values()){$.computedProperty=r;try{r.computation.call(n,n)}catch(e){if(e.type&&"cue-internal"===e.type)throw new Error(e.message)}}return $.computedProperty=null,$.computedProperties=null,t}(e,t))}function H(e,t){const{computedProperty:n}=$;if(!e.hasOwnProperty(t))throw{type:"cue-internal",message:`Cannot resolve computed property "${n.ownPropertyName}" because dependency "${t}" doesn't exist.`};-1===n.sourceProperties.indexOf(t)&&n.sourceProperties.push(t)}function z(e,t,n){if(q.has(e)){t.push(e),L.push(e);const r=q.get(e);for(let e,o=0;o<r.sourceProperties.length;o++){if(e=r.sourceProperties[o],-1!==t.indexOf(e))throw new Error(`Circular dependency. "${r.ownPropertyName}" is required by "${e}": ${t.join(" -> ")}`);-1===L.indexOf(e)&&z(e,t,n)}n.has(e)||n.set(e,r)}}const D=/(\$self(?=[\\040,{.:#[>+~]))|\$self\b/g,Q=[" ",".",":","#","[",">","+","~"];let B=-1;const G=Symbol("Component Data"),J=document.createElement("div"),F={compiler:document.getElementById("cue::compiler")||Object.assign(document.head.appendChild(document.createElement("style")),{id:"cue::compiler"}),components:document.getElementById("cue::components")||Object.assign(document.head.appendChild(document.createElement("style")),{id:"cue::components"})},Y={define(e,o){let s=!1,i=!1;const a={initialize:t,connected:t,disconnected:t},c={static:{},computed:new Map,bindings:{},reactions:{}},l=document.createElement("template");l.innerHTML=o.element||"";const h=function e(t,n){for(let r,o,s,i,a=0;a<t.children.length;a++)r=t.children[a],o=r.getAttribute("$"),o&&(s=r.getAttribute("class"),i=o+ ++B,n["$"+o]="."+i,r.setAttribute("class",s?s+" "+i:i),r.removeAttribute("$")),e(r,n);return n}(l.content,{}),u=class extends HTMLElement{constructor(){super(),this[G]={reactions:{},computedProperties:new Map,subscriptions:[],refs:{},_data:{},initialized:!1,dataEvent:new CustomEvent("data",{bubbles:!0,cancelable:!0,detail:{key:"",value:void 0}})},!1===s&&(s=!0,"string"==typeof o.styles&&o.styles.length&&function(e,t,n){t=t.replace(D,e);for(const e in n)t=t.replace(new RegExp("(\\"+e+"(?=[\\40{,.:#[>+~]))|\\"+e+"\b","g"),n[e]);F.compiler.innerHTML=t;const r=F.compiler.sheet;let o="",s="";for(let t,n=0;n<r.rules.length;n++)t=r.rules[n],7===t.type||8===t.type?o+=t.cssText:1===t.type?o+=V(t,e):4===t.type||12===t.type?s+=K(e,t):console.warn(`CSS Rule of type "${t.type}" is not currently supported by Cue Components.`);o+=s,F.compiler.innerHTML="",F.components.innerHTML+=o}(e,o.styles,h),"function"==typeof o.initialize&&(a.initialize=o.initialize),"function"==typeof o.connectedCallback&&(a.connected=o.connectedCallback),"function"==typeof o.disconnectedCallback&&(a.disconnected=o.disconnectedCallback))}connectedCallback(){if(!1===i){i=!0;const e={};if(o.data){o.data="function"==typeof o.data?o.data():o.data;for(const t in o.data){const n=o.data[t];e[t]=n.value,n.value&&n.value.id===k?c.bindings[t]=n.value:"function"==typeof n.value?c.computed.set(t,new N(t,n.value)):c.static[t]=n.value,"function"==typeof n.reaction&&(c.reactions[t]=n.reaction)}}c.computed.size>0&&(c.computed=U(e,c.computed))}const e=this[G];if(!1===e.initialized){e.initialized=!0;const t=e._data=Object.assign(r(c.static),e._data),n=e.computedProperties;e.data=new Proxy(t,{set:X,get:(t,o)=>c.bindings[o]?c.bindings[o].get(!0):n.has(o)?n.get(o).value(e.data):r(t[o])});for(const e of c.computed.entries()){const t=e[1];n.set(e[0],new N(t.ownPropertyName,t.computation,t.sourceProperties))}e.dependencyGraph=function(e){const t=new Map;let n,r,o;for(n of e.values())for(r=0;r<n.sourceProperties.length;r++)o=n.sourceProperties[r],t.has(o)?t.get(o).push(n):t.set(o,[n]);return t}(e.computedProperties);for(const t in c.reactions)e.reactions[t]=n=>{c.reactions[t](e.refs,n,e.data)};0===this.innerHTML.length&&(this.innerHTML=l.innerHTML);for(const t in h){const n=this.querySelector(h[t]);n&&(n[G]||(n[G]={},n.renderEach=Z),e.refs[t]=n)}if(e.refs.$self=this,this.hasAttribute("data")){const t=JSON.parse(this.getAttribute("data"));this.removeAttribute("data"),Object.assign(e._data,t)}for(const t in e.reactions)x.cueCallback(e.reactions[t],e.data[t]);x.react(),requestAnimationFrame(()=>{a.initialize.call(this,e.refs),a.connected.call(this,e.refs)})}else a.connected.call(this,e.refs);for(const t in c.bindings)e.dependencyGraph.has(t)&&e.subscriptions.push(c.bindings[t].store.subscribe(c.bindings[t].key,()=>x.cueComputations(e.dependencyGraph,e.reactions,t,e.data))),e.reactions[t]&&e.subscriptions.push(c.bindings[t].store.subscribe(c.bindings[t].key,e.reactions[t]))}disconnectedCallback(){const e=this[G],t=e.subscriptions;for(;t.length;)t.pop().unsubscribe();a.disconnected.call(this,e.refs)}getData(e){if(!e){const e=this[G],t={};let n;for(n in c.bindings)t[n]=c.bindings[n].get(!0);for(n in e._data)t[n]=r(e._data[n]);return t}return this[G].data[e]}setData(e,t){if("object"==typeof e)for(const t in e)this.setData(t,e[t]);if(c.computed.has(e))throw new Error(`You can not set property "${e}" because it is a computed property.`);const o=this[G];c.bindings[e]&&!n(c.bindings[e].get(!1),t)?(o.dataEvent.detail.key=e,o.dataEvent.detail.value=r(t),this.dispatchEvent(o.dataEvent),c.bindings[e].set(t)):n(o._data[e],t)||(o._data[e]=t,o.dataEvent.detail.key=e,o.dataEvent.detail.value=r(t),this.dispatchEvent(o.dataEvent),o.reactions[e]&&x.cueCallback(o.reactions[e],t),o.dependencyGraph.has(e)&&x.cueComputations(o.dependencyGraph,o.reactions,e,o.data),x.react())}};for(const e in o)"function"==typeof o[e]&&"initialize"!==e&&(u.prototype[e]=o[e]);u.prototype.renderEach=Z,customElements.define(e,u);const d="<"+e,f="</"+e+">";return e=>{let t,n,r=d;for(t in e)n=e[t],n=n&&"object"==typeof n?JSON.stringify(n):n,r+=` ${t}='${n}'`;return r+=">"+l.innerHTML+f,r}},create(e,t){if("string"!=typeof(e=(e="function"==typeof e?e():e).trim())||"<"!==e[0])throw new Error('[Cue.js] - Component.create(node) -> argument "node" is not valid HTML: "'+e+'"');J.innerHTML=e;const n=J.children[0];if(t){console.warn("[Cue.js] - Component.create(...) [data] parameter will be deprecated in a future version. Pass data object as an attribute to the components factory function instead.");const e=n[G];e?Object.assign(e._data,r(t)):console.warn("[Cue.js] - Component.create(...) [data] parameter passed to non-cue element will be ignored.")}return n}};function K(e,t,n=""){4===t.type?n+="@media "+t.media.mediaText+" {":n+="@supports "+t.conditionText+" {";let r="";for(let o,s=0;s<t.cssRules.length;s++)o=t.cssRules[s],7===o.type||8===o.type?n+=o.cssText:1===o.type?n+=V(o,e):4===o.type||12===o.type?r+=K(e,o):console.warn(`CSS Rule of type "${o.type}" is not currently supported by Components.`);return n+=r+" }"}function V(e,t){let n="";if(e.selectorText.indexOf(",")>-1){const r=e.selectorText.split(","),o=[];for(let e,n=0;n<r.length;n++)e=r[n].trim(),0===e.lastIndexOf(":root",0)?o.push(e.replace(":root","")):W(e,t)?o.push(e):o.push(t+" "+e);n+=o.join(", ")+e.cssText.substr(e.selectorText.length)}else 0===e.selectorText.lastIndexOf(":root",0)?n+=e.cssText.replace(":root",""):W(e.selectorText,t)?n+=e.cssText:n+=t+" "+e.cssText;return n}function W(e,t){return e===t||0===e.lastIndexOf(t,0)&&Q.indexOf(e.charAt(t.length))>-1}function X(e,t,n){throw new Error(`Can not change data in reactions: this.${t} = ${n} has been ignored.`)}function Z(e,n,r=t){e=Array.isArray(e)?e:Object.values(e||{});const o=this[G].childData||[];if(this[G].childData=e,0===e.length)this.innerHTML="";else if(0===o.length)for(let t=0;t<e.length;t++)this.appendChild(n(e[t],t,e));else!function(e,t,n,r,o){let s,i,a,c=0,l=0,h=!0,u=t.length-1,d=n.length-1,f=e.firstChild,p=f,g=e.lastChild,m=g;e:for(;h;){let r;for(h=!1,s=t[c],i=n[l];s===i;){if(o(f,i),c++,l++,p=f=f.nextSibling,u<c||d<l)break e;s=t[c],i=n[l]}for(s=t[u],i=n[d];s===i;){if(o(g,i),u--,d--,a=g,m=g=g.previousSibling,u<c||d<l)break e;s=t[u],i=n[d]}for(s=t[u],i=n[l];s===i;){if(h=!0,o(g,i),r=g.previousSibling,e.insertBefore(g,p),m=g=r,l++,u--,u<c||d<l)break e;s=t[u],i=n[l]}for(s=t[c],i=n[d];s===i;){if(h=!0,o(f,i),r=f.nextSibling,e.insertBefore(f,a),a=m=f,f=r,c++,d--,u<c||d<l)break e;s=t[c],i=n[d]}}if(d<l){if(c<=u){let t;for(;c<=u;)0===u?e.removeChild(g):(t=g.previousSibling,e.removeChild(g),g=t),u--}return}if(u<c){if(l<=d)for(;l<=d;)a?e.insertBefore(r(n[l],l,n),a):e.appendChild(r(n[l],l,n)),l++;return}const y=new Array(d+1-l),b=new Map;let v;for(v=l;v<=d;v++)y[v]=-1,b.set(n[v],v);let w=0,C=[];for(v=c;v<=u;v++)b.has(t[v])?(y[b.get(t[v])]=v,w++):C.push(v);if(0===w){for(e.textContent="",v=l;v<=d;v++)e.appendChild(r(n[v],v,n));return}const O=function(e,t){const n=[],r=[],o=new Array(e.length);let s,i,a,c=-1;for(s=t;s<e.length;s++){if(i=e[s],i<0)continue;let t,l=-1,h=n.length;if(h>0&&n[h-1]<=i)a=h-1;else{for(;h-l>1;)t=Math.floor((l+h)/2),n[t]>i?h=t:l=t;a=l}-1!==a&&(o[s]=r[a]),a===c?(c++,n[c]=i,r[c]=s):i<n[a+1]&&(n[a+1]=i,r[a+1]=s)}for(s=r[c];c>=0;s=o[s],c--)n[c]=s;return n}(y,l),x=[];let S=f;for(v=c;v<=u;v++)x[v]=S,S=S.nextSibling;for(v=0;v<C.length;v++)e.removeChild(x[C[v]]);let E,j=O.length-1;for(v=d;v>=l;v--)O[j]===v?(a=x[y[O[j]]],o(a,n[v]),j--):(-1===y[v]?E=r(n[v],v,n):(E=x[y[v]],o(E,n[v])),e.insertBefore(E,a),a=E)}(this,o,e,n,r)}const ee=e.location.origin+e.location.pathname,te=[ee,e.location.hostname,e.location.hostname+"/",e.location.origin];"/"!==ee[ee.length-1]&&te.push(ee+"/"),e.location.pathname&&"/"!==e.location.pathname&&te.push(e.location.pathname);const ne=["/","#","/#","/#/",...te],re=new URL(ee),oe=we(ee),se=new Map,ie=new Set,ae=[],ce={},le={params:{},keepQuery:!0,forceReload:!1,history:"pushState"};let he=!1,ue={},de=["/"];e.location.hash&&de.push(...e.location.hash.split("/"));const fe={before(t,n){pe();const{hash:r}=ye(t);if(se.has(r))throw new Error("[Cue.js] Router.beforeRoute() already has a filter for "+("#"===r?t+" (root url)":t));se.set(r,n);const o=ye(e.location.href);o.hash===r&&(Object.assign(ue,Ce(o.query)),n(o.rel,ue,t=>{t!==o.rel&&(0===t.lastIndexOf("http",0)?e.location.href=t:fe.navigate(t,{history:"replaceState",forceReload:!1}))}))},on(t,n){if(pe(),"*"===t)-1===ae.indexOf(n)&&ae.push(n),n(oe+e.location.hash,Object.assign(ue,Ce(e.location.search)));else{const{hash:r}=ye(t);if(ie.has(r))throw new Error('[Cue.js] Router.onRoute() already has a action for "'+r=="#"?t+" (root url)":t+'".');ie.add(r),function(e,t){const n=ce["/"]||(ce["/"]={action:void 0,children:{}});if("#"===e)n.action=t;else{const r=e.split("/"),o=r[r.length-1];r.reduce((e,n)=>e[n]?(n===o&&(e[n].action=t),e[n].children):(e[n]={action:n===o?t:void 0,children:{}}).children,n.children)}}(r,n);const o=ye(e.location.href);if(0===o.hash.lastIndexOf(r,0)){let e=o.hash.slice(r.length);e="/"===e[0]?e.slice(1):e,e=""===e?"/":we(e),n(e,Object.assign(ue,Ce(o.query)))}}},hasFilter(e){const{hash:t}=ye(e);return se.has(t)},hasAction(e){if("*"===e)return ae.length>0;{const{hash:t}=ye(e);return ie.has(t)}},navigate(t,n={}){const{hash:r,query:o,rel:s}=ye(t);!0===(n=Object.assign({},le,n)).keepQuery?Object.assign(ue,Ce(o)):ue=Ce(o),se.has(r)?se.get(r)(s,ue,t=>{t!==s?0===t.lastIndexOf("http",0)?e.location.href=t:fe.navigate(t,{history:"replaceState",forceReload:!1}):ge(r,o,n.keepQuery,n.history)}):ge(r,o,n.keepQuery,n.history)},getQueryParameters:e=>e?ue[e]:Object.assign({},ue),addQueryParameters(e,t){if(void 0===t&&"object"==typeof e)for(const t in e)ue[t]=e[t];else ue[e]=t;me()},setQueryParameters(e){ue=r(e),me()},removeQueryParameters(e){e?Array.isArray(e)?e.forEach(e=>{ue[e]&&delete ue[e]}):ue[e]&&delete ue[e]:ue={},me()}};function pe(){he||(he=!0,e.addEventListener("popstate",()=>{fe.navigate(e.location.href,{history:"replaceState",forceReload:!1})}))}function ge(t,n,r,o){!function(e){const t=oe+(e="#"===e?"":e);for(let e=0;e<ae.length;e++)ae[e](t,ue)}(t),function(e){const t=["/"];"#"!==e&&t.push(...e.split("/"));const n=function(e,t){const n=[];for(let r=0;r<e.length;r++)for(let o=0;o<t.length;o++)if(e[r]===t[o]){n.push(e[r]);break}return n}(de,t),r=[n[n.length-1]];t.length>n.length&&r.push(...function(e,t){const n=[];for(let r=e.length;r<t.length;r++)n.push(t[r]);return n}(n,t));let o,s=ce;for(let e=0;e<n.length;e++){if(o=n[e],o===r[0]){o=r.shift();break}s=s[o].children}for(;s[o]&&r.length;)s[o].action&&s[o].action(r.join("/"),ue),s=s[o].children,o=r.shift();s[o]&&s[o].action&&s[o].action("/",ue);de=t}(t),re.hash=t,re.search=r?Oe(ue):n,e.history[o](null,document.title,re.toString())}function me(){re.search=Oe(ue),e.history.replaceState(null,document.title,re.toString())}function ye(e){if(ne.indexOf(e)>-1)return{rel:"/",abs:ee,hash:"#",query:""};if("?"===e[0]||"#"===e[0]){const{hash:t,query:n}=be(e);return{rel:ve(t),abs:ee+t,hash:t||"#",query:n}}if("?"!==(e=function(e){const t=(r=e,o=ne,o.filter(e=>0===r.lastIndexOf(e,0)).sort((e,t)=>t.length-e.length)[0]),n=t?e.substr(t.length):e;var r,o;return 0===n.lastIndexOf("/",0)?n.substr(1):n}(e))[0]&&"#"!==e[0])throw new Error('Invalid Route: "'+e+'". Non-root paths must start with ? query or # hash.');const{hash:t,query:n}=be(e);return{rel:ve(t),abs:ee+t,hash:t||"#",query:n}}function be(e){const t=e.indexOf("#"),n=e.indexOf("?");if(-1===t)return{hash:"",query:we(new URL(e,ee).search)};if(-1===n)return{hash:we(new URL(e,ee).hash),query:""};const r=new URL(e,ee);if(n<t)return{hash:we(r.hash),query:we(r.search)};let o=r.hash;const s=o.slice(o.indexOf("?"));return o=o.replace(s,""),{hash:we(o),query:we(s)}}function ve(e){return("#"===e?"/":e)||"/"}function we(e){return"/"===e[e.length-1]?e.substring(0,e.length-1):e}function Ce(e){const t={};if(e.length>1){const n=e.substring(1).replace(/\+/g," ").replace(/;/g,"&").split("&");for(let e,r,o=0;o<n.length;o++)e=n[o].split("=",2),r=decodeURIComponent(e[0]),r&&(t[r]=!(e.length>1)||decodeURIComponent(e[1]))}return t}function Oe(e){let t="?";for(const n in e)t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n])+"&";return"?"===t?t="":"&"===t[t.length-1]&&(t=t.substring(0,t.length-1)),t}const xe={Component:Y,Store:_,Server:p,Router:fe};"object"==typeof module&&"object"==typeof module.exports?module.exports=xe:"function"==typeof define&&define.amd?define("Cue",[],(function(){return xe})):e.Cue=xe}(window||this);